/* RESET */
@import url('https://rsms.me/inter/inter.css');

/* --------------------------------- */
/* SwiftUI Color System Integration */
/* --------------------------------- */

:root {
  /* SwiftUI Surface Colors - Light Mode */
  --mango-orange: rgba(235, 115, 0, 1);
  --surface-5: rgba(247, 247, 249, 1);
  --surface-10: rgba(245, 245, 245, 1);
  --surface-20: rgba(231, 231, 231, 1);
  --surface-30: rgba(208, 208, 208, 1);
  --surface-base: rgba(255, 255, 255, 1);
  
  /* SwiftUI Text Colors - Light Mode */
  --text-30: rgba(0, 0, 0, 0.3);
  --text-50: rgba(0, 0, 0, 0.5);
  --text-70: rgba(0, 0, 0, 0.65);
  --text-base: rgba(0, 0, 0, 0.8);
  --text-base-static: rgba(0, 0, 0, 0.9);
  --text-contrast: rgba(255, 255, 255, 1);
}

/* Dark Mode Color Overrides */
body.night {
  /* SwiftUI Surface Colors - Dark Mode */
  --mango-orange: rgba(235, 115, 0, 1);
  --surface-5: rgba(38, 38, 38, 1);
  --surface-10: rgba(34, 34, 34, 1);
  --surface-20: rgba(51, 51, 51, 1);
  --surface-30: rgba(51, 51, 51, 1);
  --surface-base: rgba(17, 17, 17, 1);
  
  /* SwiftUI Text Colors - Dark Mode */
  --text-30: rgba(255, 255, 255, 0.3);
  --text-50: rgba(255, 255, 255, 0.5);
  --text-70: rgba(255, 255, 255, 0.7);
  --text-base: rgba(255, 255, 255, 0.9);
  --text-base-static: rgba(0, 0, 0, 0.9);
  --text-contrast: rgba(0, 0, 0, 1);
}

*, *::before, *::after {
  box-sizing: border-box;
  border: 0 solid #e5e7eb;
}

html, body {
  min-height: 100%;
  font-size: 16px;
  font-family: 'Inter', ui-sans-serif, system-ui, sans-serif;
  scroll-behavior: smooth;
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

body {
  margin: 0;
  margin-bottom: 96px;
  line-height: 1.65;
  overflow-x: hidden;
  background-color: var(--surface-base);
  color: var(--text-base);
  touch-action: manipulation;
}

/* Dark Mode Base Overrides */
body.night {
  background-color: var(--surface-base);
  color: var(--text-base);
}

body.night h1, body.night h2, body.night h3, body.night h4, body.night h5, body.night h6 {
  color: var(--text-contrast);
}

body.night a {
  color: var(--text-contrast);
  text-decoration-color: var(--surface-base);
}

body.night a:hover {
  text-decoration-color: var(--text-70);
}

body.night .subtitle, body.night .caption { color: var(--text-50); }
body.night .title { color: #fff; }

/* Typography */
h1, h2, h3, h4, h5, h6 {
  margin-top: 0;
  margin-bottom: 0;
  color: var(--text-base-static);
  line-height: 1.25;
  font-size: 16px;
  font-weight: 500;
}

.title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-base);
  line-height: 1.25;
  letter-spacing: 0;
  display: block;
  margin-bottom: 4px;
}

.subtitle {
  margin-top: 4px;
  margin-bottom: 32px;
  font-size: 14px;
  color: var(--text-70);
  font-weight: 400;
  display: block;
  width: 100%;
}

.caption {
  margin-top: 12px;
  margin-bottom: 24px;
  font-size: 14px;
  color: var(--text-70);
  width: 80%;
  font-weight: 400;
}

/* Layout */
.grid {
  display: block;
  width: 100%;
  max-width: 640px;
  margin: 0 auto;
  padding: 0;
  box-sizing: border-box;
}

.col-1, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8 {
  width: 100%;
  display: block;
}

.row {
  display: block;
  width: 100%;
}

.row .title {
  display: block;
  margin-bottom: 4px;
}

.row .subtitle {
  display: block;
  margin-top: 0;
}

.text-section, .button-section, .nav-container, .nav-row {
  display: block;
  padding: 0;
  margin: 0;
}

/* Header */
#nav {
  position: relative;
  width: 100%;
  background: transparent;
  margin-top: 96px;
}

#nav.static-header .col-8 {
  width: 100%;
  max-width: 640px;
  margin: 0 auto;
  padding: 0;
  box-sizing: border-box;
}

.header-top {
  margin-bottom: 8px;
}

body:not(.home-page) #nav.static-header .header-top {
  margin-bottom: 96px;
}

.logo-link {
  display: block;
  text-decoration: none !important;
  margin-bottom: 8px;
}

.logo-link:hover {
  opacity: 0.7;
}

.site-logo {
  width: 24px;
  height: 24px;
  display: block;
}

.header-home-content {
  display: none;
  opacity: 1;
}

body.home-page #nav.static-header .header-home-content {
  display: block;
}

#name {
  font-size: 16px;
  font-weight: 500;
  margin-bottom: 4px;
  white-space: nowrap;
  text-decoration: none;
  display: block;
}

/* Navigation */
nav {
  display: flex !important;
  gap: 16px;
}

.button-link {
  text-decoration: none !important;
  font-family: 'Inter', ui-sans-serif, system-ui, sans-serif;
  font-size: 14px;
  font-weight: 500;
  color: var(--text-50);
  padding: 0;
  background-color: transparent;
  opacity: 0.7;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  filter: blur(0px);
}

.button-link:hover, .button-link.active {
  opacity: 1;
  color: var(--text-base-static);
  filter: blur(0px);
}

/* Header navigation specific hover effects */
.header-nav:hover .button-link:not(:hover):not(.active) {
  opacity: 0.3;
  filter: blur(2px);
}

/* Fallback for other nav contexts */
nav:hover .button-link:not(:hover):not(.active) {
  opacity: 0.3;
  filter: blur(0.5px);
}

body.night .button-link,
body.night .button-link:hover,
body.night .button-link.active {
  color: #fff;
}

/* Links */
a {
  color: var(--text-base-static);
  text-decoration-line: underline;
  text-decoration-color: transparent;
  text-decoration-thickness: 1.5px;
  text-underline-offset: 2.5px;
  cursor: pointer;
}

a:hover {
  text-decoration-color: var(--surface-30);
}

/* Content Container */
.spa-content-container {
  width: 100%;
  max-width: 960px;
  margin: 0 auto;
  padding: 0;
  box-sizing: border-box;
  min-height: 50vh;
}

/* Text Content Container - keeps text at 640px on desktop */
.text-content {
  width: 100%;
  max-width: 640px;
  margin: 0 auto;
}

/* Image Content Container - allows images to expand to 960px on desktop */
.image-content {
  width: 100%;
  max-width: 960px;
  margin: 0 auto;
}

/* Embla Carousel */
.embla {
  overflow: hidden;
  margin-left: calc(-50vw + 50%);
  margin-right: calc(-50vw + 50%);
  width: 100vw;
}

.embla__viewport {
  overflow: hidden;
  width: 100%;
  padding-top: 40px;
  padding-left: calc(50vw - 320px);
  padding-right: calc(50vw - 320px);
}

.embla__container {
  display: flex;
  touch-action: pan-x;
}

.embla__slide {
  transform: translate3d(0, 0, 0);
  flex: 0 0 auto;
  min-width: 0;
  margin-right: 16px;
}

.embla__slide img {
  width: 600px;
  height: auto;
  border-radius: 32px;
  pointer-events: none;
  user-select: none;
  display: block;
}

.embla__slide:last-child {
  margin-right: 864px;
}

/* Images */
img {
  width: 100%;
  height: auto;
  border-radius: 32px;
  display: block;
  margin-bottom: 16px;
}

/* Simple Image Carousel */
.image-carousel {
  position: relative;
  display: inline-block;
  width: 100%;
}

.image-carousel img {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 32px;
  margin-bottom: 0;
}

.image-carousel .carousel-image {
  display: none;
}

.image-carousel .carousel-image.active {
  display: block;
}

.image-carousel .carousel-nav {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 50%;
  z-index: 10;
  background: transparent;
}

.image-carousel .carousel-nav.left {
  left: 0;
  cursor: w-resize;
}

.image-carousel .carousel-nav.right {
  right: 0;
  cursor: e-resize;
}

/* Make the entire image area clickable with dynamic cursors */
.image-carousel img {
  cursor: pointer;
}



.image-border {
  border: 0.5px solid rgba(0, 0, 0, 0.1) !important;
}

/* Sections */
section, .section {
  margin-bottom: 48px;
}

section:last-child {
  margin-bottom: 0;
}

.section-two-column {
  display: block;
}

.section-header {
  margin-bottom: 24px;
}

.section-content > a {
  display: block;
  margin-bottom: 24px;
}

.section-content > a:last-child {
  margin-bottom: 0;
}

/* Text sections should be constrained to 640px on desktop */
section:not(.image-section),
.section:not(.image-section),
.section-two-column:not(.image-section) {
  max-width: 640px;
  margin-left: auto;
  margin-right: auto;
}

/* Image sections can use full 960px width */
section.image-section,
.section.image-section,
.section-two-column.image-section {
  max-width: 960px;
  margin-left: auto;
  margin-right: auto;
}

/* Desktop Two-Column Layout */
@media (min-width: 768px) {
  .section-two-column {
    display: flex;
    gap: 48px;
    align-items: flex-start;
  }
  
  .section-two-column .section-header {
    flex: 0 0 200px;
    position: sticky;
    top: 24px;
    margin-bottom: 0;
  }
  
  .section-two-column .section-content {
    flex: 1;
  }
}

/* Desktop Layout Adjustments for Different Content Widths */
@media (min-width: 780px) {
  /* Header and navigation stay at 640px */
  #nav.static-header .col-8 {
    max-width: 640px;
  }
  
  /* Text sections stay at 640px */
  section:not(.image-section),
  .section:not(.image-section),
  .section-two-column:not(.image-section) {
    max-width: 640px;
  }
  
  /* Image sections can expand to 960px */
  section.image-section,
  .section.image-section,
  .section-two-column.image-section {
    max-width: 960px;
  }
  
  /* Images break out to full 960px width */
  .spa-content-container img:not(.embla img):not(.site-logo) {
    width: 960px;
    max-width: 960px;
    margin-left: calc((640px - 960px) / 2);
    margin-right: calc((640px - 960px) / 2);
  }
  
  /* Carousel images should use their own sizing */
  .embla img {
    width: 600px;
    margin-left: 0;
    margin-right: 0;
  }
  
  /* Footer stays at 640px */
  footer {
    max-width: 640px;
    margin-left: auto;
    margin-right: auto;
  }
}

/* Spacing Utilities */
.mb-24 { margin-bottom: 24px !important; }

/* Divider */
.divider {
  height: 1px;
  background-color: var(--surface-10);
  border: none;
  margin: 24px 0;
  width: 100%;
}

body.night .divider {
  background-color: var(--surface-10);
}

/* Color Classes */
.color-block { --custom-color: #111111; }
.color-mango { --custom-color: #111111; }
.color-al { --custom-color: #111111; }
.color-sq { --custom-color: #111111; }
.color-ando { --custom-color: #111111; }
.color-sidecar { --custom-color: #111111; }
.color-approach { --custom-color: #111111; }
.color-zoon { --custom-color: #111111; }
.color-sudo { --custom-color: #111111; }
.color-circuit { --custom-color: #111111; }
.color-jot { --custom-color: #111111; }
.color-terraforms { --custom-color: #111111; }
.color-tint { --custom-color: #111111; }


/* Approach page specific styles */
.page-header {
  padding: 24px 0;
  margin-bottom: 48px;
}

.page-header.color-approach {
  background-color: var(--custom-color);
}

.white {
  color: white !important;
}

.button-link.secondary {
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 8px 16px;
  border-radius: 8px;
}

.button-link.primary {
  background-color: rgba(255, 255, 255, 0.2);
  padding: 8px 16px;
  border-radius: 8px;
}

/* Footer */
footer {
  margin-top: 40px;
  margin-bottom: 40px !important;
  opacity: 0.5;
}

/* --------------------------------- */
/* Page Entrance Animations */
/* --------------------------------- */

/* Page animations are now handled via inline styles in JavaScript */

/* Simplified hover animations */
.image-link {
  transition: opacity 0.2s ease;
}

.image-link:hover {
  opacity: 0.8;
}

.button-link {
  transition: opacity 0.2s ease;
}

.button-link:hover {
  opacity: 0.8;
}

/* Logo simple hover */
.logo-link {
  transition: opacity 0.2s ease;
}

.logo-link:hover {
  opacity: 0.7;
}

/* Page load animation container */
.animate-page {
  opacity: 0;
  animation: pageLoad 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  animation-delay: 0.05s;
}

@keyframes pageLoad {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Reduce motion for accessibility - handled in JavaScript */

/* Mobile Responsive */
@media (max-width: 780px) {
  .spa-content-container {
    padding: 0 24px;
  }
  
  #nav {
    padding: 0 24px;
  }
  
  .embla {
    margin-left: -24px;
    margin-right: -24px;
  }
  
  .embla__viewport {
    padding-left: 24px;
    padding-right: 24px;
    padding-top: 40px;
  }
  
  .embla__slide {
    flex: 0 0 300px;
  }
  
  .embla__slide img {
    width: 300px;
    max-height: 200px;
    object-fit: cover;
  }
  
  nav {
    gap: 24px;
    flex-wrap: wrap;
  }
  
  img {
    border-radius: 20px;
  }
  
  /* Reset desktop image styles on mobile */
  .spa-content-container img:not(.embla img):not(.site-logo) {
    width: 100% !important;
    max-width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}
